<!DOCTYPE html>
<html>

<head>
	<title>Electric Dreams</title>

	<style type="text/css">
		/*style the computer text, input, and button*/
		.displayNone {display:none;}
	</style>
</head>

<body>
	<h1>Electric Dreams</h1>
	<p id="computer">Hi, how are you today?</p>
	<input id="human" type="text" placeholder="Type your response...">
	<button>Enter</button>

	<script type="text/javascript">
		var computer = document.querySelector('#computer');
		var human = document.getElementById('human');
		var button = document.getElementsByTagName('button')[0];
		var responseNumber; //used to store the value of the response to display to the player
		var newResponse; //used to generate the next response and prevent duplication of responses
		var humanMsg = ""; //will hold the text (value) of the player input
		var computerMsg = ""; //will hold the computer text displayed to the player each turn
		var genericResponses = [
			"Good for you.",
			"You are a loser.",
			"I like you."
		];
		
		human.focus();

		button.addEventListener("click", clickHandler, false);
		function clickHandler() {
			playGame();
		}

		window.addEventListener("keydown", keydownHandler, false);
		function keydownHandler(event) {
			if (event.keyCode === 13) {
				playGame();
			}
		}

		function playGame() {
			// //let the games begin
			// //order of business:
			//version1
			//1. determine a random response
			responseNumber = Math.floor(Math.random()*genericResponses.length);
			//grab the message from the response array
			computerMsg = genericResponses[responseNumber];
			//2. update the text in the computer field to the new response
			computer.innerHTML = computerMsg;

			// //version2
			// //1. determine a random response
			// newResponse = Math.floor(Math.random()*genericResponses.length);
			// //prevent using the same response twice in a row
			// while (newResponse === responseNumber){
			// 	newResponse = Math.floor(Math.random()*genericResponses.length);
			// }
			// //keep track of which response is being used
			// responseNumber = newResponse;
			// //grab the message from the response array
			// computerMsg = genericResponses[responseNumber];
			// //2. update the text in the computer field to the new response
			// computer.innerHTML = computerMsg;

			// //version3
			// //give a respose if any still exist
			// if (genericResponses.length >0){
			// 	newResponse = Math.floor(Math.random()*genericResponses.length);
			// 	responseNumber = newResponse;
			// 	computer.innerHTML = genericResponses[responseNumber];
			// 	//remove response from array so it cannot be used again
			// 	genericResponses.splice(responseNumber,1);
			// } else {
			// 	//no resposes left in the array so we enter the final response
			// 	computer.innerHTML = "I am done talking to you. You may leave now.";
			// 	//visually remove human field and button by changing their class
			// 	human.className="displayNone";
			// 	button.className="displayNone";
			// 	setTimeout(endGame,2000);
			// }

			// //version4
			// //knock the input to lowerCase so we may evaluate it easier
			// humanMsg = (human.value).toLowerCase();
			// //looking for specific words in the answer
			// //if "indexOf" returns "-1" that means it did not find that value
			// if (humanMsg.indexOf("good") !== -1){
			// 	computerMsg = "That is good for you.";
			// }else if (humanMsg.indexOf("bad") !== -1){
			// 	computerMsg = "You live a sad life.";
			// }else {
			// 	computerMsg = "You know nothing.";
			// }
			// computer.innerHTML = computerMsg;

			//3. wipe the text in the player input field
			human.value = "";
		}

		function endGame() {
			////jump to a new webpage
			////.assign() leaves the back button working
			////.replace() disables the back button by replacing the location in the history
			location.assign("http://en.wikipedia.org/wiki/Electric_Dreams_(film)");
		}
	</script>
</body>

</html>
